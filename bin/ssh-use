#!/usr/bin/env zsh

__warn() {
	printf "[\033[0;33mâš  WARN\033[0m] %s$1\n"
}

__okay() {
	printf "\033[2K[\033[00;32mâœ” OKAY\033[0m] %s$1\n"
}

profiles=("laradvil [Work]" "radvil [Personal]" "radvil2 [Personal]")

selected=$(printf "%s\n" "${profiles[@]}" | fzf --border --prompt="ðŸ”‘ Select Key Â» ")

if [[ -z $selected ]]; then
  __warn "No key was selected"
  return 0
else
  eval $(ssh-agent -s)
  selected=$(echo $selected | cut -d ' ' -f 1)
  ssh-add "$HOME/.ssh/$selected"
  __okay "Selected key Â» $selected"
fi
